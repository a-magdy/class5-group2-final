!function(e){var t={};function n(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(o,s,function(t){return e[t]}.bind(null,s));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=5)}([function(e,t){e.exports=require("sqlstring")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("mysql2")},function(e,t,n){"use strict";n.r(t);var o=n(1),s=n.n(o),r=n(2),u=n.n(r),a=n(3),i=n.n(a),c=n(0),d=n.n(c),f=n(4),l=n.n(f),p=process.env.DATABASE_URL||"mysql://hyf:password@127.0.0.1:3306/hyf_thread",E=l.a.createConnection(p);var v=s.a.Router();v.get("/",function(e,t){var n=d.a.format("SELECT * FROM internships WHERE active=?",[!0]);console.log(n),E.execute(n,function(e,n){e?t.status(500).send(e):t.send(n)})}),v.post("/",function(e,t){var n=e.body,o=d.a.format("INSERT INTO internships SET ?",n);console.log(o),E.execute(o,function(e,n){e?t.status(500).send(e):(console.log(n),t.send("success"))})}),v.get("/:id",function(e,t){var n=e.params.id,o=d.a.format("SELECT * FROM internships WHERE id = ? AND is_active = ?",[n,!0]);console.log(o),E.execute(o,function(e,n){e?t.status(500).send(e):0!==n.length?t.send(n[0]):t.status(404).send("Not Found")})}),v.put("/:id",function(e,t){var n=e.params.id,o=e.body,s=d.a.format("UPDATE internships SET ? WHERE id = ?",[o,n]);console.log(s),E.execute(s,function(e,n){e?t.status(500).send(e):n.affectedRows?t.send("success"):t.status(404).send("Not Found")})}),v.delete("/:id",function(e,t){var n=e.params.id,o=d.a.format("UPDATE internships SET ? WHERE id = ?",[{is_active:!1},n]);console.log(o),E.execute(o,function(e,n){e?t.status(500).send(e):n.affectedRows?t.send("success"):t.status(404).send("Not Found")})});var m=v;var g=s.a.Router();g.get("/",function(e,t){var n=d.a.format("SELECT * FROM mentors WHERE active=?",[!0]);console.log(n),E.execute(n,function(e,n){e?t.status(500).send(e):t.send(n)})}),g.post("/",function(e,t){var n=e.body,o=d.a.format("INSERT INTO mentors SET ?",n);console.log(o),E.execute(o,function(e,n){e?t.status(500).send(e):(console.log(n),t.send("success"))})}),g.get("/:id",function(e,t){var n=e.params.id,o=d.a.format("SELECT * FROM mentors WHERE id = ? AND is_active = ?",[n,!0]);console.log(o),E.execute(o,function(e,n){e?t.status(500).send(e):0!==n.length?t.send(n[0]):t.status(404).send("Not Found")})}),g.put("/:id",function(e,t){var n=e.params.id,o=e.body,s=d.a.format("UPDATE mentors SET ? WHERE id = ?",[o,n]);console.log(s),E.execute(s,function(e,n){e?t.status(500).send(e):n.affectedRows?t.send("success"):t.status(404).send("Not Found")})}),g.delete("/:id",function(e,t){var n=e.params.id,o=d.a.format("UPDATE mentors SET ? WHERE id = ?",[{is_active:!1},n]);console.log(o),E.execute(o,function(e,n){e?t.status(500).send(e):n.affectedRows?t.send("success"):t.status(404).send("Not Found")})});var x=g,R=s.a.Router();R.get("/hello",function(e,t){t.send({hello:"world"})}),R.use("/internships",m),R.use("/mentors",x),R.use(function(e,t,n){var o=new Error("Not found.");o.status=404,n(o)});var T=R,y=s()();y.use(i.a.urlencoded({extended:!1})),y.use(i.a.json()),y.use("/api",T),y.use(s.a.static(u.a.resolve(__dirname,"..","client"))),y.get("*",function(e,t){t.sendFile(u.a.resolve(__dirname,"..","client","index.html"))});var S=process.env.PORT||8080;y.listen(S,function(){console.log("Server is running on ".concat(S))})}]);